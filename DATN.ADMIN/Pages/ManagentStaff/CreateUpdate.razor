@using DATN.ViewModels.Common
@using DATN.ViewModels.DTOs.Authenticate
@inject HttpClient httpClient
@if (_users != null)
{
    <EditForm Model="@user">
        <MudItem xs="12" sm="12">
            <MudCard>
                <MudCardContent>
                    <MudTextField T="string" @bind-Value="user.FullName" Label="Họ tên" For="@(() => user.FullName)" />
                    <MudTextField T="string" @bind-Value="user.Address" Label="Địa chỉ" For="@(() => user.Address)" />
                    <MudTextField T="string" @bind-Value="user.Email" Label="Email" For="@(() => user.Email)" />
                    <MudTextField T="string" @bind-Value="user.PhoneNumber" Label="Số điện thoại" For="@(() => user.PhoneNumber)" />
                    <hr class="hr" />
                    <div class="mt-5" style="text-align: end;">
                        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">@_nameButton</MudButton>
                        </div>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </EditForm>
}
else
{
 <DATN.ADMIN.Components.LoadingIndicator></DATN.ADMIN.Components.LoadingIndicator>
}
@code {
    [Parameter] 
    public UserInfView? userName { get; set; }
    [CascadingParameter]
    MudDialog _dialogBox{ get; set; }
    private string _nameButton = "Thêm mới";

    private List<UserInfView> _users;
    private UserRegisterView user = new UserRegisterView();

    protected async override Task OnInitializedAsync()
    {
        var usrr = await httpClient.GetFromJsonAsync<ResponseData<List<UserInfView>>>("api/UserLogin/List-User");

        if (userName!= null)
        {
            _nameButton = "Cập nhật";
        }
    }

    bool success = false;
}